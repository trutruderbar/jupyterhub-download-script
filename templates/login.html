{% extends "page.html" %}

{% block stylesheet %}
<style>
:root{
  --bg-1:#0f172a; --bg-2:#1d4ed8; --bg-3:#60a5fa;
  --surface: rgba(255,255,255,0.075);
  --surface-strong: rgba(255,255,255,0.12);
  --text:#e5e7eb; --muted:#cbd5e1; --accent:#7dd3fc; --accent-2:#a78bfa;
}

/* ====== Forcefully remove header remnants (logos/nav/buttons/skip-link) ====== */
#header, #jupyterhub-header, #header-container, #login_widget, #jupyterhub-logo,
#header *, #jupyterhub-header *, #header-container *{ display:none !important; }

/* For versions that inject elements directly under body */
.skip-link, [role="navigation"], .navbar, .navbar *, .nav, .nav *{ display:none !important; }
/* Limit to body-level elements so card lists/buttons remain intact */
body > header, body > nav, body > .navbar,
body > ul, body > ol,
body > a.btn, body > a[role="button"], body > button, body > a.skip-link {
  display:none !important; visibility:hidden !important; opacity:0 !important;
}

/* Bonus: hide any mounted error dialogs (Error / The error / OK) */
body > dialog, #error, #error-message, #error-dialog, .modal{ display:none !important; }

/* ===== Background & typography ===== */
html,body{height:100%}
body{
  margin:0; display:grid; place-items:center; min-height:100vh;
  font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(99,102,241,.18), transparent 60%),
    radial-gradient(1200px 800px at 110% 110%, rgba(56,189,248,.18), transparent 60%),
    conic-gradient(from 0deg at 70% 30%, var(--bg-2), var(--bg-1), var(--bg-3), var(--bg-2));
  background-size:200% 200%,200% 200%,200% 200%;
  animation: moveBg 18s ease-in-out infinite;
}
@keyframes moveBg{ 0%,100%{background-position:0% 0%,100% 100%,50% 50%} 50%{background-position:100% 100%,0% 0%,70% 30%} }

/* Floating glow */
.floats{ position:fixed; inset:0; overflow:hidden; pointer-events:none; }
.floats::before,.floats::after{
  content:""; position:absolute; width:520px; height:520px; filter:blur(70px); border-radius:50%;
}
.floats::before{ background: radial-gradient(closest-side, rgba(167,139,250,.55), transparent 70%); animation:floaty 24s ease-in-out infinite; }
.floats::after{ background: radial-gradient(closest-side, rgba(125,211,252,.6), transparent 70%); top:60%; left:70%; animation:floaty 28s ease-in-out infinite -6s; }
@keyframes floaty{ 0%{ transform:translate(-10%,-10%) } 50%{ transform:translate(10%,5%) } 100%{ transform:translate(-10%,-10%) } }

/* Primary card */
.login-shell{
  position:relative; width:min(1080px, 94vw); padding:42px; border-radius:28px;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  box-shadow: 0 30px 90px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.25);
  backdrop-filter: blur(14px) saturate(130%);
}
.login-shell::before{
  content:""; position:absolute; inset:-2px; border-radius:30px; padding:2px;
  background: conic-gradient(from var(--angle), rgba(125,211,252,.9), rgba(167,139,250,.9), rgba(56,189,248,.9), rgba(99,102,241,.9), rgba(125,211,252,.9));
  --angle:0deg; animation: spin 12s linear infinite;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  filter: drop-shadow(0 0 18px rgba(99,102,241,.35));
}
@keyframes spin{ to{ --angle:360deg } }

.grid{ display:grid; grid-template-columns:1.05fr 1.15fr; gap:28px; align-items:stretch; }
@media (max-width:980px){ .grid{ grid-template-columns:1fr; } }

.panel{ display:flex; flex-direction:column; gap:18px; padding:22px; background:var(--surface); border:1px solid var(--surface-strong); border-radius:20px; }

.brand{ display:flex; align-items:center; gap:16px; }
.brand img{ width:60px; height:60px; object-fit:contain; }
.brand h1{ margin:0; font-size:clamp(22px,2.2vw,32px); font-weight:800; letter-spacing:.2px; }
.subtitle{ margin:.25rem 0 0; color:var(--muted); font-size:15px; line-height:1.6; }

.oauth-button{
  --h:56px; height:var(--h);
  display:inline-flex; align-items:center; justify-content:center; gap:12px;
  text-decoration:none; user-select:none; border-radius:14px; padding:0 22px;
  font-weight:700; letter-spacing:.02em; font-size:16px; line-height:1;
  color:#0b1020;
  background: linear-gradient(135deg, #93c5fd, #a78bfa 60%, #7dd3fc);
  box-shadow: 0 14px 36px rgba(80,130,250,.35);
  position:relative; overflow:hidden; transition: transform .18s ease, box-shadow .18s ease;
}
.oauth-button:hover{ transform:translateY(-1px); box-shadow:0 18px 40px rgba(80,130,250,.45); }
.icon{ display:inline-flex; width:18px; height:18px; align-items:center; justify-content:center; }

.highlights{ margin:0; padding-left:18px; display:grid; gap:8px; font-size:14px; color:#e2e8f0; }
.highlights li::marker{ color:#93c5fd }

.notes{ margin:0; padding:16px 18px; background:rgba(15,23,42,.45); border:1px solid rgba(255,255,255,.12); border-radius:14px; font-size:14px; color:#dbeafe; }
.notes strong{ color:#fff }
.footer{ margin-top:6px; opacity:.8; font-size:12px; letter-spacing:.08em; text-transform:uppercase; text-align:right; color:#cbd5e1; }

/* Info section */
.section-title{ margin:.2rem 0 .2rem; font-size:15px; letter-spacing:.06em; text-transform:uppercase; color:#c7d2fe; }
.p{ margin:0; color:#e5e7eb; font-size:14px; line-height:1.7; }
.list{ margin:.2rem 0 0; padding-left:18px; display:grid; gap:6px; font-size:14px; color:#e2e8f0; }
.list li::marker{ color:#a78bfa }

/* Alert from hub */
.alert{ border-radius:12px; padding:14px 16px; font-size:14px; }
.alert.error{ background: rgba(239,68,68,.15); border:1px solid rgba(239,68,68,.35); color:#fecaca; }
.alert.info{ background: rgba(59,130,246,.15); border:1px solid rgba(59,130,246,.35); color:#dbeafe; }

/* Reduced motion preference */
@media (prefers-reduced-motion:reduce){
  body, .login-shell::before, .floats::before, .floats::after{ animation:none!important; }
}
/* === Boost contrast for the right-hand "JupyterHub intro" panel === */
.grid > .panel:nth-child(2){ /* Applies only to the second panel (right intro) */
  --info-title: #ffffff;   /* Brighter headings */
  --info-text:  #f3f4f6;   /* Brighter paragraphs */
  --info-muted: #e5e7eb;   /* Brighter lists / secondary text */
}

.grid > .panel:nth-child(2) .section-title{
  color: var(--info-title);
  text-shadow: 0 1px 1px rgba(0,0,0,.35);
}

.grid > .panel:nth-child(2) .p{
  color: var(--info-text);
  text-shadow: 0 1px 1px rgba(0,0,0,.25);
}

.grid > .panel:nth-child(2) .list{
  color: var(--info-text);
}
.grid > .panel:nth-child(2) .list li::marker{
  color:#c7d2fe; opacity:.95;
}

/* If the OS enables high contrast, boost again */
@media (prefers-contrast: more){
  .grid > .panel:nth-child(2) .p,
  .grid > .panel:nth-child(2) .list{ color:#ffffff; text-shadow: 0 1px 1px rgba(0,0,0,.4); }
}

</style>
{% endblock %}

{% block header %}{% endblock %}

{% block main %}
{% set fallback_logo = static_url('images/jupyterhub-80.png') %}
{% set primary_logo = (custom_logo_rel | default('images/jupyterhub-80.png', true)) %}
{% set oauth_label = (login_service | default('OAuth Login', true)) %}
{% set login_href = (authenticator_login_url | default(login_url, true)) %}

<div class="floats" aria-hidden="true"></div>

<section class="login-shell" role="main" aria-label="JupyterHub Login">
  <div class="grid">
    <!-- Left column: login and highlights -->
    <div class="panel">
      <div class="brand">
        <img src="{{ static_url(primary_logo) }}" alt="Brand"
             onerror="this.onerror=null;this.src='{{ fallback_logo }}';">
        <div>
          <h1>JupyterHub service</h1>
          <p class="subtitle">Unified GPU, storage, and notebooks provide teams with a secure workspace.</p>
        </div>
      </div>

      {% set error_message = message or login_error %}
      {% if error_message %}
      <div class="alert error" role="alert" aria-live="polite">{{ error_message }}</div>
      {% endif %}

      <a class="oauth-button" role="button" aria-label="Start up"
         href="{{ login_href }}">
        <span class="icon" aria-hidden="true">
          <svg width="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 10V8a5 5 0 1 1 10 0v2" stroke="#0b1020" stroke-width="2" stroke-linecap="round"/>
            <rect x="5" y="10" width="14" height="10" rx="2" stroke="#0b1020" stroke-width="2"/>
          </svg>
        </span>
        <span>Start up</span>
      </a>

      <ul class="highlights" aria-label="Key features">
        <li>Single sign-on to reach project notebooks and GPU resources.</li>
        <li>Supports multiple named servers and shared storage.</li>
        <li>Best experienced with the latest Chrome or Edge.</li>
      </ul>

      <p class="notes"><strong>Reminder:</strong> If sign-in fails, clear your browser cache or contact the administrator.</p>
      <div class="footer">POWERED BY Ubilink.AI CO.,LTD.</div>
    </div>

    <!-- Right column: JupyterHub overview -->
    <div class="panel" style="position:relative; overflow:hidden">
      <!-- Decorative SVG sized by width only to avoid layout issues -->
      <svg viewBox="0 0 520 120" width="100%" xmlns="http://www.w3.org/2000/svg" style="display:block; margin-bottom:8px">
        <defs>
          <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#93c5fd"/><stop offset="60%" stop-color="#a78bfa"/><stop offset="100%" stop-color="#7dd3fc"/>
          </linearGradient>
        </defs>
        <g opacity=".95">
          <path d="M20,80 C140,10 220,140 360,70 S500,50 500,110"
                fill="none" stroke="url(#g1)" stroke-width="8" stroke-linecap="round"/>
          <circle cx="120" cy="30" r="8" fill="#93c5fd"/>
          <circle cx="280" cy="65" r="6" fill="#a78bfa"/>
          <circle cx="430" cy="25" r="5" fill="#7dd3fc"/>
        </g>
      </svg>

      <div>
        <div class="section-title">What is JupyterHub?</div>
        <p class="p">
          JupyterHub is a Jupyter platform for teams and classrooms. A central entry point manages identity, launches isolated notebook environments per user, and flexibly connects compute (CPU/GPU/clusters) plus shared storage.
        </p>

        <div class="section-title">What the platform enables</div>
        <ul class="list">
          <li>Centralized access: one login to personal or project notebooks.</li>
          <li>Elastic compute: choose environments and hardware profiles such as GPUs.</li>
          <li>Collaboration ready: shared storage, versioned environments, multiple named servers.</li>
          <li>Extensible stack: JupyterLab extensions, terminals, Git, LSP, programmable toolchains, and more.</li>
        </ul>

        <div class="section-title">Security & operations</div>
        <ul class="list">
          <li>Single sign-on and external identity integration (for example: {{ oauth_label }}).</li>
          <li>Resource governance: quotas, idle culling, image and environment version control.</li>
          <li>Auditability & observability: unified logs and events to speed up troubleshooting.</li>
        </ul>

        <div class="section-title">FAQ</div>
        <ul class="list">
          <li><strong>Failed to sign in?</strong> Refresh the page or clear browser cache, then retry; contact the admin if it persists.</li>
          <li><strong>Missing resources?</strong> After signing in, pick the right notebook profile on the "Select environment/resources" page.</li>
          <li><strong>Browser tips?</strong> Use the latest Chrome or Edge and allow pop-ups plus cookies for this site.</li>
        </ul>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block script %}{% endblock %}
